<!doctype html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no" />

  <title>Mobilab CMS</title>

  <link rel="shortcut icon" href="../assets/favicon.png" sizes="64x64">

</head>

<body>
  <!-- Include the script that builds the page and powers Netlify CMS -->
  <script src="https://unpkg.com/netlify-cms@^2.9.0/dist/netlify-cms.js"></script>

  <script>
    CMS.registerPreviewStyle("https://mobidays-dev.netlify.com/assets/lib/normalize.css");
    CMS.registerPreviewStyle("https://mobidays-dev.netlify.com/assets/css/monokai.css");
    CMS.registerPreviewStyle("https://mobidays-dev.netlify.com/assets/lib/magnific-popup.min.css");
    CMS.registerPreviewStyle("https://mobidays-dev.netlify.com/assets/css/screen.css");

    var PostPreview = createClass({
      render: function() {
        var entry = this.props.entry;
        var image = entry.getIn(['data', 'image']);
        var bg = this.props.getAsset(image);
        console.log(entry.getIn(['data', 'author']));
        var author = entry.getIn(['data', 'author']).title;
  // /assets/images/default_blog_cover.jpg
        return
        h('div', {},
          h('div', {id:"content","className": "container post"},
            this.props.widgetFor('body'))
          
       );
      }
    });
    /*
    h('div', {},
        h('div', {id:'cover',class:'container'},
            h('div', {},
                h('h1',{},entry.getIn(['data', 'title'])),
                h('p',{style:'color:white !important;'},entry.getIn(['data', 'date']),
                    h('b',{style:"font-size:11px;"},
                        h('a',{href:"/authors/"+entry.getIn(['data', 'author']).title},entry.getIn(['data', 'author']).title)
                    )
                )
            )
        )
     );

  }
     */
    /*
    <body class="post-template">
    <div id="wrapper">
    <div id="cover" class="container"
         {% if page.image %}style="background-image: url({{ page.image }});"{% endif %}>
        <div>
            <h1>{{ page.title }}</h1>
            <p style="color:white !important;">
              {{ page.date  | date: '%Y/%m/%d' }}&nbsp;by
              <b style="font-size:11px;">
                <a href="/authors/{{ author.title }}" >
                  {{ author.title }}
                </a>
              </b>
            </p>
            <cite>
              커버 이미지 출처: <a href="{{ include.cover.link }}" target="_blank">
                {{ include.cover.title | default: include.cover.link }}
              </a>
            </cite>
        </div>
    </div>
    </div>
    </body>

*/
//    CMS.registerPreviewTemplate("posts", PostPreview);
    CMS.registerPreviewTemplate("drafts", PostPreview);

  </script>
</body>

</html>
